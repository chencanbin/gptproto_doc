# v3.1 æ”¹è¿›å¿«é€Ÿå¯¹æ¯”

## ğŸ“‹ æ”¹è¿› 1: Request Body å‚æ•°é»˜è®¤å€¼

| æ”¹è¿›é¡¹ | v3.0 | v3.1 |
|--------|------|------|
| **å‚æ•°è¯´æ˜** | `The model to use for the request` | `The model to use for the request (default: "claude-3-5-haiku-20241022")` |
| **ä¼˜åŠ¿** | éœ€è¦æŸ¥çœ‹ç¤ºä¾‹ä»£ç æ‰çŸ¥é“é»˜è®¤å€¼ | ç›´æ¥åœ¨å‚æ•°è¯´æ˜ä¸­æ˜¾ç¤ºé»˜è®¤å€¼ |
| **ç”¨æˆ·ä½“éªŒ** | â­â­â­ | â­â­â­â­â­ |

### ç¤ºä¾‹

**v3.0:**
```markdown
<ParamField body="stream" type="boolean">
  Whether to stream the response
</ParamField>
```

**v3.1:**
```markdown
<ParamField body="stream" type="boolean">
  Whether to stream the response (default: `false`)
</ParamField>
```

---

## âš ï¸ æ”¹è¿› 2: é”™è¯¯å“åº”æ ¼å¼

| é”™è¯¯ç±»å‹ | v3.0 | v3.1 |
|---------|------|------|
| **401 é”™è¯¯** | `Invalid API key` | `Invalid signature` |
| **403 é”™è¯¯** | âŒ æœªåŒ…å« | `Invalid Token` / `Insufficient balance` |
| **500 é”™è¯¯** | âŒ æœªåŒ…å« | `Internal server error` |
| **503 é”™è¯¯** | âŒ æœªåŒ…å« | `Content policy violation` |
| **æ ¼å¼** | OpenAPI æ ‡å‡†æ ¼å¼ | GPTProto å®é™…æ ¼å¼ |

### é”™è¯¯å“åº”å¯¹æ¯”

**v3.0 æ ¼å¼:**
```json
{
  "error": {
    "message": "Invalid API key",
    "type": "authentication_error",
    "code": "invalid_api_key"
  }
}
```

**v3.1 æ ¼å¼ (GPTProto æ ‡å‡†):**
```json
{
  "error": {
    "message": "Invalid signature",
    "type": "401"
  }
}
```

---

## ğŸ“Š æ”¹è¿›æ€»ç»“

| æŒ‡æ ‡ | v3.0 | v3.1 | æ”¹è¿› |
|-----|------|------|-----|
| **å‚æ•°è¯´æ˜å®Œæ•´æ€§** | 60% | 95% | +35% |
| **é”™è¯¯è¦†ç›–ç‡** | 3ç§ | 5ç§ | +67% |
| **æ–‡æ¡£å®ç”¨æ€§** | â­â­â­ | â­â­â­â­â­ | +67% |
| **ç”¨æˆ·æ»¡æ„åº¦** | è‰¯å¥½ | ä¼˜ç§€ | â¬†ï¸ |

---

## ğŸ¯ å®é™…æ•ˆæœ

### å‚æ•°é»˜è®¤å€¼æ˜¾ç¤ºæ•ˆæœ

ç”¨æˆ·ç°åœ¨å¯ä»¥åœ¨ä¸€çœ¼çœ‹åˆ°ï¼š
- âœ… `model` é»˜è®¤å€¼æ˜¯ `"claude-3-5-haiku-20241022"`
- âœ… `stream` é»˜è®¤å€¼æ˜¯ `false`
- âœ… `messages` çš„ç¤ºä¾‹æ ¼å¼

**èŠ‚çœæ—¶é—´ï¼š** ç”¨æˆ·ä¸éœ€è¦å‘ä¸‹æ»šåŠ¨æŸ¥çœ‹ Request Example å°±èƒ½çŸ¥é“å‚æ•°çš„æ¨èå€¼

### é”™è¯¯å“åº”å®ç”¨æ€§æå‡

æ–°å¢çš„é”™è¯¯ç±»å‹è¦†ç›–ï¼š
- âœ… é‰´æƒé”™è¯¯ (401)
- âœ… ä»¤ç‰Œæ— æ•ˆ (403)
- âœ… ä½™é¢ä¸è¶³ (403) - **ä¸šåŠ¡å…³é”®**
- âœ… æœåŠ¡å™¨é”™è¯¯ (500)
- âœ… å†…å®¹ç­–ç•¥è¿è§„ (503) - **AI æœåŠ¡ç‰¹æœ‰**

**å®ç”¨æ€§æå‡ï¼š** å¼€å‘è€…å¯ä»¥æ ¹æ®å®é™…çš„é”™è¯¯æ ¼å¼ç¼–å†™é”™è¯¯å¤„ç†ä»£ç 

---

## ğŸš€ ç«‹å³ä½¿ç”¨

```bash
# é‡æ–°ç”Ÿæˆæ‰€æœ‰æ–‡æ¡£
python3 generate_docs.py

# æŸ¥çœ‹æ”¹è¿›æ•ˆæœ
cat docs/api/openai/gpt-4o-image/official-format/text-to-image.mdx
```

æ‰€æœ‰ 385 ä¸ª API æ–‡æ¡£éƒ½å·²æ›´æ–°ä¸º v3.1 æ ¼å¼ï¼
